/*!CK:2963739797!*//*1453347427,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["vBDnm"]); }

__d('SubRipText',[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(r){var s=Number(r.substr(0,r.length-1)),t=r.substr(-1);switch(t){case 's':return s;case 'm':return s*60;case 'h':return s*3600;}var u=r.split(':');s=Number(u[u.length-1].replace(/,/,'.'));if(u.length>1)s+=Number(u[u.length-2])*60;if(u.length>2)s+=Number(u[u.length-3])*3600;return s;}function i(r){var s=r.split(/\r\n|\r|\n/).map(function(x){return x.trim();}),t=[],u=0;do{var v=s.indexOf('',u);if(v<0)v=s.length;var w=k(s.slice(u,v));if(w)t.push(w);u=v+1;}while(u>0&&u<s.length);return t;}function j(r){var s=r.split('-->');if(s.length!=2)return null;var t=h(s[0].trim()),u=h(s[1].trim());if(Number.isNaN(u)||Number.isNaN(t))return null;return {begin:t,end:u};}function k(r){if(r.length<3)return null;var s=l(r[0]),t=j(r[1]);if(!t)return null;return {counter:s,begin:t.begin,end:t.end,text:r.slice(2,6)};}function l(r){return Number(r.trim());}function m(r){var s=r.split('.');if(s[0].length<2)return "0"+s.join('.');return s.join('.');}function n(r){var s=m(Math.floor(r/3600).toString()),t=m(Math.floor(r%3600/60).toString()),u=m((r%60).toFixed(3));return s+':'+t+':'+u;}function o(r){return r.counter+'\n'+n(r.begin)+' --> '+n(r.end)+'\n'+r.text.join('\n')+'\n';}function p(r){return 'WEBVTT\n\n'+r.map(function(s){return o(s);}).join('\n');}function q(r){'use strict';this.$SubRipText1=i(r);this.$SubRipText1.sort(function(s,t){return s.counter-t.counter;});this.$SubRipText2=this.$SubRipText1.map(function(s,t){return t;}).sort((function(s,t){return (this.$SubRipText1[s].begin-this.$SubRipText1[t].begin);}).bind(this));this.invalidateCache();}q.prototype.$SubRipText3=function(r){'use strict';return this.$SubRipText1[this.$SubRipText2[r]];};q.prototype.$SubRipText4=function(r){'use strict';var s=this.$SubRipText5;while(s<this.$SubRipText2.length){var t=this.$SubRipText3(s);if(t.begin<=r){this.$SubRipText6.push(t);s++;}else break;}this.$SubRipText5=s;};q.prototype.$SubRipText7=function(r){'use strict';this.$SubRipText6=this.$SubRipText6.filter(function(s){return s.end>r;});};q.prototype.invalidateCache=function(){'use strict';this.$SubRipText8=0;this.$SubRipText6=[];this.$SubRipText5=0;};q.prototype.getSubtitles=function(r){'use strict';if(r<this.$SubRipText8)this.invalidateCache();this.$SubRipText8=r;this.$SubRipText4(r);this.$SubRipText7(r);return this.$SubRipText6.reduce(function(s,t){return s.concat(t.text);},[]);};q.prototype.renderVTT=function(){'use strict';return p(this.$SubRipText1);};f.exports=q;},null);